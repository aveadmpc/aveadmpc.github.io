(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0caece62"],{"00d1":function(e,t,n){"use strict";n("2415")},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0c7a":function(e,t,n){},2415:function(e,t,n){},"25f0":function(e,t,n){"use strict";var r=n("e330"),i=n("5e77").PROPER,o=n("6eeb"),c=n("825a"),l=n("3a9b"),a=n("577e"),d=n("d039"),u=n("ad6d"),f="toString",_=RegExp.prototype,s=_[f],p=r(u),b=d((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),m=i&&s.name!=f;(b||m)&&o(RegExp.prototype,f,(function(){var e=c(this),t=a(e.source),n=e.flags,r=a(void 0===n&&l(_,e)&&!("flags"in _)?p(e):n);return"/"+t+"/"+r}),{unsafe:!0})},5222:function(e,t,n){"use strict";n("0c7a")},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),c="find",l=!0;c in[]&&Array(1)[c]((function(){l=!1})),r({target:"Array",proto:!0,forced:l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(c)},"8ee1":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("d3b7"),n("7db0");var r=n("7a23"),i=function(e){return Object(r["pushScopeId"])("data-v-0e5122ce"),e=e(),Object(r["popScopeId"])(),e},o={class:"gray",style:{width:"100%"}},c={class:"card-header"},l=i((function(){return Object(r["createElementVNode"])("span",null,"轮播图管理",-1)})),a={style:{display:"inline-block","margin-left":"20px","font-size":"14px",color:"#888"}},d=Object(r["createTextVNode"])("添加"),u=i((function(){return Object(r["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),f=i((function(){return Object(r["createElementVNode"])("div",{class:"image-slot",style:{width:"100px","min-height":"100px"}}," 加载中... ",-1)})),_=Object(r["createTextVNode"])("生效"),s=Object(r["createTextVNode"])("部分生效"),p=Object(r["createTextVNode"])("失效"),b=Object(r["createTextVNode"])("是"),m=Object(r["createTextVNode"])("否"),j=Object(r["createTextVNode"])("编辑"),O=Object(r["createTextVNode"])("删除"),k=Object(r["createTextVNode"])("上移"),h=Object(r["createTextVNode"])("下移"),v=Object(r["createTextVNode"])(" $ "),g={class:"dialog-footer"},V=Object(r["createTextVNode"])("取 消"),y=Object(r["createTextVNode"])("确 定"),x=Object(r["createTextVNode"])("确 定");function w(e,t,n,i,w,C){var N=Object(r["resolveComponent"])("el-button"),B=Object(r["resolveComponent"])("el-table-column"),E=Object(r["resolveComponent"])("el-tag"),U=Object(r["resolveComponent"])("el-image"),T=Object(r["resolveComponent"])("el-link"),$=Object(r["resolveComponent"])("el-switch"),D=Object(r["resolveComponent"])("el-table"),F=Object(r["resolveComponent"])("el-card"),L=Object(r["resolveComponent"])("el-col"),S=Object(r["resolveComponent"])("el-row"),I=Object(r["resolveComponent"])("Upload"),M=Object(r["resolveComponent"])("el-form-item"),R=Object(r["resolveComponent"])("el-checkbox"),z=Object(r["resolveComponent"])("el-checkbox-group"),A=Object(r["resolveComponent"])("el-date-picker"),P=Object(r["resolveComponent"])("el-input-number"),H=Object(r["resolveComponent"])("el-input"),Y=Object(r["resolveComponent"])("el-form"),q=Object(r["resolveComponent"])("el-dialog"),J=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])("main",o,[Object(r["createVNode"])(S,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(L,{span:24,style:{"margin-bottom":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(F,{class:"box-card",shadow:"never"},{header:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",null,[l,Object(r["createElementVNode"])("span",a,"广告总收入：$ "+Object(r["toDisplayString"])(C.totalFee),1)]),Object(r["createVNode"])(N,{class:"button",type:"primary",link:"",onClick:Object(r["withModifiers"])(C.handelAdd,["stop"])},{default:Object(r["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]})),default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(D,{ref:"baTable",class:"table-fixed",data:w.bannerList,stripe:"",style:{width:"100%"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(B,{prop:"banner_index",label:"index",width:"80"}),Object(r["createVNode"])(B,{label:"平台","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t.platform,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:t,size:"small",class:"mr-5"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(B,{prop:"picture_link",label:"图片(中文)",width:"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])(U,{style:{width:"100px"},fit:"contain","preview-src-list":[t.picture_link],src:t.picture_link,lazy:"","preview-teleported":""},{placeholder:Object(r["withCtx"])((function(){return[u]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(r["createVNode"])(B,{prop:"render_link",label:"跳转链接(中文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.render_link?(Object(r["openBlock"])(),Object(r["createBlock"])(T,{key:0,type:"primary",href:t.render_link,target:"_blank",underline:!1},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.render_link),1)]})),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(B,{prop:"picture_link_en",label:"图片(英文)",width:"150"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])(U,{style:{width:"100px"},fit:"contain","preview-src-list":[t.picture_link_en],src:t.picture_link_en,lazy:"","preview-teleported":""},{placeholder:Object(r["withCtx"])((function(){return[f]})),_:2},1032,["preview-src-list","src"])]})),_:1}),Object(r["createVNode"])(B,{prop:"render_link_en",label:"跳转链接(英文)","min-width":"200"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.render_link_en?(Object(r["openBlock"])(),Object(r["createBlock"])(T,{key:0,type:"primary",href:t.render_link_en,target:"_blank",underline:!1},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.render_link_en),1)]})),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(B,{label:"状态",width:"300",align:"right"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t.platform,(function(e,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:n,style:{display:"flex","justify-content":"flex-end"}},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name)+" : ",1),Object(r["createVNode"])($,{modelValue:t["is_delete_".concat(e.value)],"onUpdate:modelValue":function(n){return t["is_delete_".concat(e.value)]=n},"active-color":"#13ce66","inactive-color":"#ff4949",size:"small","active-text":"","inactive-text":"","active-value":0,"inactive-value":1,loading:w.loading[t.id],onClick:Object(r["withModifiers"])((function(n){return C.handelState(t,e.value)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])])})),128))]})),_:1}),Object(r["createVNode"])(B,{prop:"",label:"是否生效"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.platform.every((function(e){return 0==t["is_delete_".concat(e.value)]}))&&(0===t.is_adv||1e3*t.start_time<=Date.now()&&1e3*t.end_time>=Date.now())?(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:0,type:"success",effect:"dark",size:"small"},{default:Object(r["withCtx"])((function(){return[_]})),_:1})):t.platform.some((function(e){return 0==t["is_delete_".concat(e.value)]}))&&(0===t.is_adv||1e3*t.start_time<=Date.now()&&1e3*t.end_time>=Date.now())?(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:1,type:"success",effect:"dark",size:"small"},{default:Object(r["withCtx"])((function(){return[s]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:2,type:"danger",effect:"dark",size:"small"},{default:Object(r["withCtx"])((function(){return[p]})),_:1}))]})),_:1}),Object(r["createVNode"])(B,{label:"固定位置",width:"200",align:"center"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createVNode"])($,{modelValue:t.is_fixedshowindex,"onUpdate:modelValue":function(e){return t.is_fixedshowindex=e},"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"固定","inactive-text":"不固定","active-value":1,"inactive-value":0,loading:w.loadingFixed[t.id],onClick:Object(r["withModifiers"])((function(e){return C.handelFixed(t)}),["stop"])},null,8,["modelValue","onUpdate:modelValue","loading","onClick"])]})),_:1}),Object(r["createVNode"])(B,{label:"生效时间范围","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.start_time))+" ~ "+Object(r["toDisplayString"])(e.$f.formatDate(n.end_time)),1)]})),_:1}),Object(r["createVNode"])(B,{prop:"update_time",label:"更新时间","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.update_time)),1)]})),_:1}),Object(r["createVNode"])(B,{prop:"create_time",label:"创建时间","min-width":"170"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$f.formatDate(n.create_time)),1)]})),_:1}),Object(r["createVNode"])(B,{label:"广告",width:"150",align:"center"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[1===t.is_adv?(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:0,type:"danger",effect:"plain"},{default:Object(r["withCtx"])((function(){return[b]})),_:1})):0===t.is_adv?(Object(r["openBlock"])(),Object(r["createBlock"])(E,{key:1,type:"info",effect:"plain"},{default:Object(r["withCtx"])((function(){return[m]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(B,{prop:"fee",label:"广告费用($)",width:"150"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(1===t.is_adv?t.fee:0),1)]})),_:1}),Object(r["createVNode"])(B,{prop:"tx_hash",label:"交易哈希",width:"200"}),Object(r["createVNode"])(B,{prop:"remark",label:"备注"}),Object(r["createVNode"])(B,{label:"操作",width:100==C.role?200:160,align:"center",fixed:"right"},{default:Object(r["withCtx"])((function(e){var t=e.row,n=e.$index;return[Object(r["createVNode"])(N,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return C.handelEdit(t)}),["stop"])},{default:Object(r["withCtx"])((function(){return[j]})),_:2},1032,["onClick"]),100==C.role?(Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:0,type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return C.handelRemove(t)}),["stop"])},{default:Object(r["withCtx"])((function(){return[O]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(N,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return C.changeIndex("top",t,n)}),["stop"]),disabled:0===n},{default:Object(r["withCtx"])((function(){return[k]})),_:2},1032,["onClick","disabled"]),Object(r["createVNode"])(N,{type:"primary",link:"",onClick:Object(r["withModifiers"])((function(e){return C.changeIndex("bottom",t,n)}),["stop"]),disabled:n===w.bannerList.length-1},{default:Object(r["withCtx"])((function(){return[h]})),_:2},1032,["onClick","disabled"])]})),_:1},8,["width"])]})),_:1},8,["data"])),[[J,w.dataLoading]])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(q,{title:C.dialogTitle,modelValue:w.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=function(e){return w.dialogVisible=e}),width:"1000px",top:"5vh","close-on-click-modal":!1,onClosed:C.handelClose},{footer:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("span",g,[Object(r["createVNode"])(N,{onClick:t[10]||(t[10]=function(e){return w.dialogVisible=!1})},{default:Object(r["withCtx"])((function(){return[V]})),_:1}),1===w.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:0,type:"primary",loading:w.addLoading,onClick:C.addBannerV4},{default:Object(r["withCtx"])((function(){return[y]})),_:1},8,["loading","onClick"])):2===w.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:1,type:"primary",loading:w.updateLoading,onClick:C.updateBannerV4},{default:Object(r["withCtx"])((function(){return[x]})),_:1},8,["loading","onClick"])):Object(r["createCommentVNode"])("",!0)])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Y,{"label-position":"left","label-width":"auto",ref:"form",model:w.form,rules:C.rules},{default:Object(r["withCtx"])((function(){var e;return[1===w.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:0,label:"通用配置"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(I,{ref:"upload_ref",render_link:w.form.render_link,"onUpdate:render_link":t[0]||(t[0]=function(e){return w.form.render_link=e}),render_link_en:w.form.render_link_en,"onUpdate:render_link_en":t[1]||(t[1]=function(e){return w.form.render_link_en=e}),render_link_type:w.form["render_link_type"],"onUpdate:render_link_type":t[2]||(t[2]=function(e){return w.form["render_link_type"]=e}),render_link_type_en:w.form["render_link_type_en"],"onUpdate:render_link_type_en":t[3]||(t[3]=function(e){return w.form["render_link_type_en"]=e}),onUpload:C.upload},null,8,["render_link","render_link_en","render_link_type","render_link_type_en","onUpload"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(M,{label:"投放平台",prop:"platform"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(z,{modelValue:w.form.platform,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.form.platform=e}),onChange:C.changePlatform},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(w.list,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(R,{key:t,label:e.value},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])("old"==e.value?e.name+"(Android & IOS & H5)":e.name),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),(null===(e=w.form.platform)||void 0===e?void 0:e.length)>0&&1===w.dialogTitleType?(Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:1,label:"是否启用通用配置"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(w.form.platform,(function(e,t){var n,i;return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"mr-10 flex-start",key:t},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(null===(n=w.list.find((function(t){return t.value===e})))||void 0===n?void 0:n.name)+" : ",1),null!==(i=w.form.platformObj)&&void 0!==i&&i[e]?(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:0,modelValue:w.form.platformObj[e].on,"onUpdate:modelValue":function(t){return w.form.platformObj[e].on=t},"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue","onUpdate:modelValue"])):Object(r["createCommentVNode"])("",!0)])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(w.form.platformObj,(function(e,t){var n;return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:t},[0==e.on?(Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:0,label:null===(n=w.list.find((function(e){return e.value===t})))||void 0===n?void 0:n.name},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(I,{ref_for:!0,ref:"upload_ref_".concat(t),render_link:e["render_link_".concat(t)],"onUpdate:render_link":function(n){return e["render_link_".concat(t)]=n},render_link_en:e["render_link_en_".concat(t)],"onUpdate:render_link_en":function(n){return e["render_link_en_".concat(t)]=n},render_link_type:e["render_link_type_".concat(t)],"onUpdate:render_link_type":function(n){return e["render_link_type_".concat(t)]=n},render_link_type_en:e["render_link_type_en_".concat(t)],"onUpdate:render_link_type_en":function(n){return e["render_link_type_en_".concat(t)]=n},onUpload:function(e){return C.uploadImg(t,e)}},null,8,["render_link","onUpdate:render_link","render_link_en","onUpdate:render_link_en","render_link_type","onUpdate:render_link_type","render_link_type_en","onUpdate:render_link_type_en","onUpload"])]})),_:2},1032,["label"])):Object(r["createCommentVNode"])("",!0)],64)})),128)),Object(r["createVNode"])(M,{label:"是否为广告",prop:"is_adv"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])($,{modelValue:w.form.is_adv,"onUpdate:modelValue":t[5]||(t[5]=function(e){return w.form.is_adv=e}),"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1}),1===w.form.is_adv?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:2},[Object(r["createVNode"])(M,{label:"时间范围",prop:"time"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(A,{modelValue:w.form.time,"onUpdate:modelValue":t[6]||(t[6]=function(e){return w.form.time=e}),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(M,{label:"广告费用",prop:"fee"},{default:Object(r["withCtx"])((function(){return[v,Object(r["createVNode"])(P,{modelValue:w.form.fee,"onUpdate:modelValue":t[7]||(t[7]=function(e){return w.form.fee=e}),min:0,controls:!1},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(M,{label:"交易哈希",prop:"tx_hash"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(H,{modelValue:w.form.tx_hash,"onUpdate:modelValue":t[8]||(t[8]=function(e){return w.form.tx_hash=e}),clearable:""},null,8,["modelValue"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(M,{label:"备注",prop:"remark"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(H,{modelValue:w.form.remark,"onUpdate:modelValue":t[9]||(t[9]=function(e){return w.form.remark=e}),modelModifiers:{trim:!0},placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["title","modelValue","onClosed"])])}var C=n("1da1"),N=n("5530"),B=n("3835"),E=n("ade3"),U=(n("96cf"),n("159b"),n("a9e3"),n("c1f9"),n("4de4"),n("4fad"),n("07ac"),n("d81d"),n("caad"),n("2532"),n("b64b"),n("365c")),T=function(e){return Object(r["pushScopeId"])("data-v-14eb15cc"),e=e(),Object(r["popScopeId"])(),e},$={class:"flex-between"},D={class:"flex-1 border"},F=T((function(){return Object(r["createElementVNode"])("span",null,"中文版",-1)})),L=["for"],S=T((function(){return Object(r["createElementVNode"])("div",{class:"add-text"},"点击上传",-1)})),I=["id"],M={class:"mt-10"},R=T((function(){return Object(r["createElementVNode"])("div",{class:"font-12"},"跳转链接",-1)})),z=Object(r["createTextVNode"])("内置链接"),A=Object(r["createTextVNode"])("外部跳转"),P={class:"flex-1 border"},H=T((function(){return Object(r["createElementVNode"])("span",null,"英文版",-1)})),Y=["for"],q=T((function(){return Object(r["createElementVNode"])("div",{class:"add-text"},"点击上传",-1)})),J=["id"],G={class:"mt-10"},K=T((function(){return Object(r["createElementVNode"])("div",{class:"font-12"},"跳转链接",-1)})),Q=Object(r["createTextVNode"])("内置链接"),W=Object(r["createTextVNode"])("外部跳转");function X(e,t,n,i,o,c){var l=Object(r["resolveComponent"])("UploadFilled"),a=Object(r["resolveComponent"])("el-icon"),d=Object(r["resolveComponent"])("CircleCloseFilled"),u=Object(r["resolveComponent"])("el-radio"),f=Object(r["resolveComponent"])("el-radio-group"),_=Object(r["resolveComponent"])("el-input"),s=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$,[Object(r["createElementVNode"])("div",D,[F,Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("label",{for:o.uid,class:"img-preview",style:Object(r["normalizeStyle"])({backgroundImage:o.fileUrl?"url("+o.fileUrl+")":""})},[o.fileUrl?(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:1,onClick:Object(r["withModifiers"])(c.removeFile,["stop","prevent"]),class:"el-icon-error"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d)]})),_:1},8,["onClick"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(a,{class:"el-icon-upload"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l)]})),_:1}),S],64))],12,L)),[[s,o.loading]]),Object(r["createElementVNode"])("input",{type:"file",ref:"fileBanner",id:o.uid,class:"uploaderFile",accept:"image/png, image/jpg",onChange:t[0]||(t[0]=function(e){return c.beforeUpload(e,"cn")})},null,40,I),Object(r["createElementVNode"])("div",M,[R,Object(r["createVNode"])(f,{modelValue:c.render_link_type1,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.render_link_type1=e}),size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{label:0},{default:Object(r["withCtx"])((function(){return[z]})),_:1}),Object(r["createVNode"])(u,{label:1},{default:Object(r["withCtx"])((function(){return[A]})),_:1})]})),_:1},8,["modelValue"]),Object(r["createVNode"])(_,{modelValue:c.render_link1,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.render_link1=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])])]),Object(r["createElementVNode"])("div",P,[H,Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("label",{for:o.uidEn,class:"img-preview",style:Object(r["normalizeStyle"])({backgroundImage:o.fileUrlEn?"url("+o.fileUrlEn+")":""})},[o.fileUrlEn?(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:1,onClick:Object(r["withModifiers"])(c.removeFileEn,["stop","prevent"]),class:"el-icon-error"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d)]})),_:1},8,["onClick"])):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(a,{class:"el-icon-upload"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l)]})),_:1}),q],64))],12,Y)),[[s,o.loadingEn]]),Object(r["createElementVNode"])("input",{type:"file",ref:"fileBannerEn",id:o.uidEn,class:"uploaderFile",accept:"image/png, image/jpg",onChange:t[3]||(t[3]=function(e){return c.beforeUpload(e,"en")})},null,40,J),Object(r["createElementVNode"])("div",G,[K,Object(r["createVNode"])(f,{modelValue:c.render_link_type_en1,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.render_link_type_en1=e}),size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{label:0},{default:Object(r["withCtx"])((function(){return[Q]})),_:1}),Object(r["createVNode"])(u,{label:1},{default:Object(r["withCtx"])((function(){return[W]})),_:1})]})),_:1},8,["modelValue"]),Object(r["createVNode"])(_,{modelValue:c.render_link_en1,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.render_link_en1=e}),modelModifiers:{trim:!0},placeholder:"请输入想要跳转的网站链接，如不填写则点击图片后不会跳转。",clearable:""},null,8,["modelValue"])])])])}n("fb6a"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var Z={name:"Upload",props:{render_link:{type:String,default:""},render_link_en:{type:String,default:""},render_link_type:{type:Number,default:1},render_link_type_en:{type:Number,default:1}},emits:["update:render_link","update:render_link_en","update:render_link_type","update:render_link_type_en","upload"],data:function(){return{uid:"upload-".concat(Math.random().toString(36).slice(2)),uidEn:"upload-en-".concat(Math.random().toString(36).slice(2)),fileUrl:"",fileUrlEn:"",picture_link:"",picture_link_en:"",loading:!1,loadingEn:!1}},computed:{render_link1:{get:function(){return this.render_link},set:function(e){this.$emit("update:render_link",e)}},render_link_en1:{get:function(){return this.render_link_en},set:function(e){this.$emit("update:render_link_en",e)}},render_link_type1:{get:function(){return this.render_link_type},set:function(e){this.$emit("update:render_link_type",e)}},render_link_type_en1:{get:function(){return this.render_link_type_en},set:function(e){this.$emit("update:render_link_type_en",e)}}},methods:{init:function(e,t){this.fileUrl=(null===t||void 0===t?void 0:t["picture_link_".concat(e)])||"",this.picture_link=(null===t||void 0===t?void 0:t["picture_link_".concat(e)])||"",this.fileUrlEn=(null===t||void 0===t?void 0:t["picture_link_en_".concat(e)])||"",this.picture_link_en=(null===t||void 0===t?void 0:t["picture_link_en_".concat(e)])||""},removeFile:function(){this.fileUrl="",this.picture_link="",this.$refs.fileBanner.value="",this.$emit("upload",{picture:this.picture_link,pictureEn:this.picture_link_en})},removeFileEn:function(){this.fileUrlEn="",this.picture_link_en="",this.$refs.fileBannerEn.value="",this.$emit("upload",{picture:this.picture_link,pictureEn:this.picture_link_en})},beforeUpload:function(e,t){var n=e.target.files[0];if(n.size/1024/1024>1)return this.$message.error("图片大小超出限制"),!1;"cn"===t?this.fileUrl=window.URL.createObjectURL(n):this.fileUrlEn=window.URL.createObjectURL(n),this.uploadBannerV4(n,t)},uploadBannerV4:function(e,t){var n=this,r=new FormData;r.append("profile_picture",e,e.name),"cn"===t?this.loading=!0:this.loadingEn=!0,Object(U["Nd"])(r).then((function(e){"cn"===t?n.picture_link=e.picture_link||"":n.picture_link_en=e.picture_link||"",n.$emit("upload",{picture:n.picture_link,pictureEn:n.picture_link_en})})).catch((function(){"cn"===t?n.removeFile():n.removeFileEn(),n.$message.error("上传图片失败")})).finally((function(){"cn"===t?n.loading=!1:n.loadingEn=!1}))}}},ee=(n("5222"),n("6b0d")),te=n.n(ee);const ne=te()(Z,[["render",X],["__scopeId","data-v-14eb15cc"]]);var re=ne,ie={components:{Upload:re},data:function(){return{form:{picture_link:"",picture_link_en:"",render_link_type:1,render_link_type_en:1,background:"",time:[],render_link:"",render_link_en:"",remark:"",language:"cn",is_adv:0,fee:0,tx_hash:"",platform:[],platformObj:{}},dialogVisible:!1,loading:{},loadingFixed:{},dialogTitleType:1,addLoading:!1,updateLoading:!1,bannerList:[],dataLoading:!0,titleList:{add:"添加轮播图",edit:"编辑轮播图"},title:"添加轮播图",index:"",list:[{value:"old",name:"老版移动端"},{value:"android",name:"新Android"},{value:"pc",name:"新PC"},{value:"h5",name:"新H5"},{value:"ios_chain_pulse",name:"ios_chain_pulse"},{value:"ios",name:"ios_meme_tracker"}]}},watch:{"form.platform":{handler:function(e){var t=this;e&&e.forEach((function(e){t.form.platformObj[e]||(t.form.platformObj[e]=t.createPlatformConfig(e))}))},immediate:!0}},mounted:function(){this.getBanner()},computed:{dialogTitle:function(){var e={1:"添加",2:"编辑"};return e[this.dialogTitleType]},rules:function(){var e={time:[{required:!0,message:"请输入时间",trigger:"blur"}],fee:[{required:!0,message:"请输入费用",trigger:"blur"}],platform:[{required:!0,message:"请至少选择一个平台",trigger:"change"}]};return this.dialogTitleType,e},totalFee:function(){return this.bannerList.reduce((function(e,t){return(Number(null===t||void 0===t?void 0:t.fee)||0)+e}),0)},role:function(){return this.$store.state.userInfo.role}},methods:{createPlatformConfig:function(e){var t;return t={on:1===this.dialogTitleType?1:0},Object(E["a"])(t,"picture_link_".concat(e),""),Object(E["a"])(t,"render_link_type_".concat(e),1),Object(E["a"])(t,"render_link_".concat(e),""),Object(E["a"])(t,"picture_link_en_".concat(e),""),Object(E["a"])(t,"render_link_type_en_".concat(e),1),Object(E["a"])(t,"render_link_en_".concat(e),""),Object(E["a"])(t,"is_delete_".concat(e),0),t},getFormData:function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(B["a"])(e,2),n=t[1];return""!==n&&null!==n&&void 0!==n})));return t},getData:function(e){var t,n=this;null===(t=this.form.platform)||void 0===t||t.forEach((function(e){var t;null!==(t=n.form.platformObj[e])&&void 0!==t&&t.on&&(n.form.platformObj[e]["picture_link_".concat(e)]=n.form.picture_link,n.form.platformObj[e]["render_link_type_".concat(e)]=n.form.render_link_type,n.form.platformObj[e]["render_link_".concat(e)]=n.form.render_link,n.form.platformObj[e]["picture_link_en_".concat(e)]=n.form.picture_link_en,n.form.platformObj[e]["render_link_type_en_".concat(e)]=n.form.render_link_type_en,n.form.platformObj[e]["render_link_en_".concat(e)]=n.form.render_link_en)}));var r=Object.values(Object(N["a"])({},this.form.platformObj)).reduce((function(e,t){return Object(N["a"])(Object(N["a"])({},e),t)}),{});return Object(N["a"])(Object(N["a"])({},r),{},{remark:e.remark,is_adv:e.is_adv,fee:1===e.is_adv?e.fee:0,start_time:1===e.is_adv?parseInt(Date.parse(e.time[0])/1e3):0,end_time:1===e.is_adv?parseInt(Date.parse(e.time[1])/1e3):0,id:e.id,tx_hash:e.tx_hash})},handelAdd:function(){this.dialogTitleType=1,this.dialogVisible=!0,this.handelClose()},handelClose:function(){var e,t,n,r,i,o;if(null===(e=this.$refs)||void 0===e||null===(t=e.form)||void 0===t||t.resetFields(),this.form.picture_link="",this.form.picture_link_en="",this.form.render_link="",this.form.render_link_en="",this.form.render_link_type=1,this.form.render_link_type_en=1,this.form.platform=[],delete this.form.id,null===(n=this.$refs)||void 0===n||null===(r=n["upload_ref"])||void 0===r||r.removeFile(),null===(i=this.$refs)||void 0===i||null===(o=i["upload_ref"])||void 0===o||o.removeFileEn(),console.log("-------this.form.render_link_en-------------",this.form.render_link_en),this.form.platformObj)for(var c in this.form.platformObj)delete this.form.platformObj[c]},getBanner:function(){var e=this;this.dataLoading=!0,Object(U["Ab"])().then((function(t){e.bannerList=(null===t||void 0===t?void 0:t.map((function(t){return Object(N["a"])(Object(N["a"])({},t),{},{picture_link:t.picture_link_old||t.picture_link_pc||t.picture_link_android||t.picture_link_ios||t.picture_link_h5||t.picture_link_ios_chain_pulse||"",picture_link_en:t.picture_link_en_old||t.picture_link_en_pc||t.picture_link_en_android||t.picture_link_en_ios||t.picture_link_en_h5||t.picture_link_en_ios_chain_pulse||"",render_link:t.render_link_old||t.render_link_pc||t.render_link_android||t.render_link_ios||t.render_link_h5||t.render_link_ios_chain_pulse||"",render_link_en:t.render_link_en_old||t.render_link_en_pc||t.render_link_en_android||t.render_link_en_ios||t.render_link_en_h5||t.render_link_en_ios_chain_pulse||"",platform:e.list.filter((function(e){return t["picture_link_".concat(e.value)]||t["picture_link_en_".concat(e.value)]}))})})))||[],e.$nextTick((function(){e.$refs.baTable.doLayout()}))})).catch((function(){e.bannerList=[]})).finally((function(){e.dataLoading=!1}))},addBannerV4:function(){var e=this;this.$refs.form.validate((function(t){if(t){var n=e.getData(e.form);n=e.getFormData(n),e.addLoading=!0,Object(U["f"])(n).then((function(t){e.$message.success("添加成功"),e.dialogVisible=!1,e.getBanner()})).catch((function(){e.$message.error("添加失败")})).finally((function(){e.addLoading=!1}))}}))},updateBannerV4:function(){var e=this;this.$refs.form.validate((function(t){if(t){var n=e.getData(e.form);n=e.getFormData(n),e.updateLoading=!0,Object(U["hd"])(n).then((function(t){e.$message.success("更新成功"),e.dialogVisible=!1,e.getBanner()})).catch((function(){e.$message.error("更新失败")})).finally((function(){e.updateLoading=!1}))}}))},changeIndex:function(e,t,n){var r=this,i={banner1_id:t.id};"top"===e?i.banner2_id=this.bannerList[n-1].id:"bottom"===e&&(i.banner2_id=this.bannerList[n+1].id),this.dataLoading=!0,Object(U["R"])(i).then((function(e){r.$message.success("调整顺序成功")})).catch((function(){r.$message.error("调整顺序失败")})).finally((function(){r.getBanner()}))},handelState:function(e,t){var n=this,r={id:e.id,platform:t,is_delete:e["is_delete_".concat(t)]};this.loading[e.id]=!0,Object(U["N"])(r).then(function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.$message.success("切换成功");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){n.$message.error("切换失败")})).finally((function(){n.loading[e.id]=!1,n.getBanner()}))},handelFixed:function(e){var t=this,n={id:e.id,is_fixedshowindex:e.is_fixedshowindex};this.loadingFixed[e.id]=!0,Object(U["J"])(n).then(function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success("更新成功");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.$message.error("更新失败")})).finally((function(){t.loadingFixed[e.id]=!1,t.getBanner()}))},handelEdit:function(e){var t=this;this.dialogTitleType=2,this.form=Object(N["a"])(Object(N["a"])({},e),{},{platform:e.platform.map((function(e){return e.value})),time:[new Date(1e3*e.start_time),new Date(1e3*e.end_time)],platformObj:{}}),this.list.forEach((function(n){var r;t.form.platform.includes(n.value)&&(t.form.platformObj[n.value]=(r={on:0},Object(E["a"])(r,"picture_link_".concat(n.value),e["picture_link_".concat(n.value)]||""),Object(E["a"])(r,"render_link_type_".concat(n.value),e["render_link_type_".concat(n.value)]||0),Object(E["a"])(r,"render_link_".concat(n.value),e["render_link_".concat(n.value)]||""),Object(E["a"])(r,"picture_link_en_".concat(n.value),e["picture_link_en_".concat(n.value)]||""),Object(E["a"])(r,"render_link_type_en_".concat(n.value),e["render_link_type_en_".concat(n.value)]||0),Object(E["a"])(r,"render_link_en_".concat(n.value),e["render_link_en_".concat(n.value)]||""),Object(E["a"])(r,"is_delete_".concat(n.value),e["is_delete_".concat(n.value)]||0),r))})),this.dialogVisible=!0,this.$nextTick((function(){Object.keys(t.form.platformObj).forEach((function(e){var n=t.$refs["upload_ref_".concat(e)],r=Array.isArray(n)?n[0]:n;null===r||void 0===r||r.init(e,t.form.platformObj[e])}))}))},handelRemove:function(e){var t=this;this.$messageBox.confirm('确定要删除当前广告吗? <br/><image src="'.concat(e.picture_link,'" height="50px"></image>'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){Object(U["Lc"])(e.id).then((function(e){t.$message({type:"success",message:"删除成功！"}),t.getBanner()})).catch((function(e){console.log(e),t.$message({type:"error",message:"删除失败！"})}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},uploadImg:function(e,t){var n=t.picture,r=t.pictureEn;this.form.platformObj[e]["picture_link_".concat(e)]=n,this.form.platformObj[e]["picture_link_en_".concat(e)]=r},upload:function(e){var t=e.picture,n=e.pictureEn;this.form.picture_link=t,this.form.picture_link_en=n},changePlatform:function(e){var t=this;this.list.forEach((function(n){!e.includes(n.value)&&t.form.platformObj[n.value]&&delete t.form.platformObj[n.value]}))}}};n("00d1");const oe=te()(ie,[["render",w],["__scopeId","data-v-0e5122ce"]]);t["default"]=oe},c1f9:function(e,t,n){var r=n("23e7"),i=n("2266"),o=n("8418");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),c=o("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);