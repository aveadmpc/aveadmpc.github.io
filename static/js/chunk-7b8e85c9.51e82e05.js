(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b8e85c9"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2ca0":function(e,t,n){"use strict";var a=n("23e7"),o=n("e330"),c=n("06cf").f,r=n("50c4"),i=n("577e"),l=n("5a34"),d=n("1d80"),u=n("ab13"),s=n("c430"),b=o("".startsWith),f=o("".slice),h=Math.min,m=u("startsWith"),j=!s&&!m&&!!function(){var e=c(String.prototype,"startsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!j&&!m},{startsWith:function(e){var t=i(d(this));l(e);var n=r(h(arguments.length>1?arguments[1]:void 0,t.length)),a=i(e);return b?b(t,a,n):f(t,n,n+a.length)===a}})},"35a7":function(e,t,n){"use strict";n("9166")},"541e":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c"),n("99af"),n("b0c0");var a=n("7a23"),o=function(e){return Object(a["pushScopeId"])("data-v-2f5ed0d0"),e=e(),Object(a["popScopeId"])(),e},c={class:"gray",style:{width:"100%"}},r={class:"card-header"},i=o((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",null,"安全审计")],-1)})),l=Object(a["createTextVNode"])("添加"),d={style:{"text-align":"center",width:"100%"}},u=Object(a["createTextVNode"])(" 搜索 "),s={class:"flex-start"},b={class:"relative"},f=o((function(){return Object(a["createElementVNode"])("img",{width:"20",height:"20",src:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/defaultToken.png",alt:"",srcset:""},null,-1)})),h=["src"],m=Object(a["createTextVNode"])("    "),j=Object(a["createTextVNode"])("审核通过"),O=Object(a["createTextVNode"])("审计失败"),p=Object(a["createTextVNode"])("取消"),g=Object(a["createTextVNode"])("确认");function w(e,t,n,o,w,V){var v=Object(a["resolveComponent"])("el-button"),x=Object(a["resolveComponent"])("el-input"),C=Object(a["resolveComponent"])("el-form-item"),N=Object(a["resolveComponent"])("el-form"),k=Object(a["resolveComponent"])("el-image"),_=Object(a["resolveComponent"])("el-table-column"),y=Object(a["resolveComponent"])("el-tag"),S=Object(a["resolveComponent"])("el-table"),L=Object(a["resolveComponent"])("el-card"),T=Object(a["resolveComponent"])("el-col"),D=Object(a["resolveComponent"])("el-row"),B=Object(a["resolveComponent"])("el-option"),E=Object(a["resolveComponent"])("el-select"),I=Object(a["resolveComponent"])("el-dialog"),M=Object(a["resolveDirective"])("loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])("main",c,[Object(a["createVNode"])(D,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(T,{span:24,style:{"margin-bottom":"10px"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(L,{class:"box-card",shadow:"never"},{header:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",r,[i,Object(a["createVNode"])(v,{class:"button",type:"primary",link:"",onClick:Object(a["withModifiers"])(V.handelAdd,["stop"])},{default:Object(a["withCtx"])((function(){return[l]})),_:1},8,["onClick"])])]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(N,{model:w.searchObj,rules:w.rules,ref:"formSearch","label-width":"auto",onSubmit:Object(a["withModifiers"])(V.search,["prevent"]),inline:""},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{label:"Token"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{modelValue:w.searchObj.id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.searchObj.id=e}),modelModifiers:{trim:!0},clearable:"",style:{"min-width":"400px"},placeholder:"请输入合约地址"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(C,{label:""},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",d,[Object(a["createVNode"])(v,{type:"primary","native-type":"submit",loading:w.dataLoading},{default:Object(a["withCtx"])((function(){return[u]})),_:1},8,["loading"])])]})),_:1})]})),_:1},8,["model","rules","onSubmit"]),Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createBlock"])(S,{data:w.tableData,stripe:"",style:{width:"100%"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{label:"symbol",align:"left"},{default:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",b,[Object(a["createVNode"])(k,{style:{width:"20px",height:"20px","border-radius":"50%"},src:n.logo_url?V.fixUrl(n.logo_url):e.$f.formatIcon(n.token,n.chain),fit:"fill"},{error:Object(a["withCtx"])((function(){return[f]})),_:2},1032,["src"]),null!==n&&void 0!==n&&n.chain?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(w.domain,"chain/").concat(null===n||void 0===n?void 0:n.chain,".png"),alt:"",srcset:""},null,8,h)):Object(a["createCommentVNode"])("",!0)]),m,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(n.symbol),1)])]})),_:1}),Object(a["createVNode"])(_,{prop:"chain",label:"链",align:"center"}),Object(a["createVNode"])(_,{prop:"token",label:"Token",align:"center"}),Object(a["createVNode"])(_,{label:"状态",width:"200",align:"center"},{default:Object(a["withCtx"])((function(e){var t=e.row;return[1==t.is_audit?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,type:"success"},{default:Object(a["withCtx"])((function(){return[j]})),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,type:"danger"},{default:Object(a["withCtx"])((function(){return[O]})),_:1}))]})),_:1}),Object(a["createVNode"])(_,{prop:"created_time",label:"创建时间",width:"200",align:"center"},{default:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.created_at?e.$f.formatDate(n.created_at):"--"),1)]})),_:1}),Object(a["createVNode"])(_,{prop:"created_time",label:"更新时间",width:"200",align:"center"},{default:Object(a["withCtx"])((function(t){var n=t.row;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.updated_at?e.$f.formatDate(n.updated_at):"--"),1)]})),_:1}),Object(a["createVNode"])(_,{prop:"admin",label:"admin",width:"200",align:"center"},{default:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.admin||"--"),1)]})),_:1}),Object(a["createVNode"])(_,{prop:"remark",label:"备注",width:"200","show-overflow-tooltip":""},{default:Object(a["withCtx"])((function(e){var t=e.row;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.remark),1)]})),_:1})]})),_:1},8,["data"])),[[M,w.dataLoading]])]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(I,{title:"添加",modelValue:w.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=function(e){return w.dialogVisible=e}),width:"600px",top:"5vh","close-on-click-modal":!1,onClosed:V.handelClose},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(N,{model:w.form,rules:w.rules,ref:"form",onSubmit:Object(a["withModifiers"])(V.addSafe,["prevent"]),"label-width":"auto"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{label:"合约地址",prop:"token"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{modelValue:w.form.token,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.form.token=e}),modelModifiers:{trim:!0},placeholder:"请输入合约地址",clearable:""},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(C,{label:"链",prop:"chain"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(E,{modelValue:w.form.chain,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.form.chain=e}),placeholder:"chain",filterable:"",clearable:""},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(w.chainList,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(B,{key:e.net_name,label:e.name,value:e.net_name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(a["createVNode"])(C,{label:"机制备注"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{modelValue:w.form.mechanism_intro,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.form.mechanism_intro=e}),modelModifiers:{trim:!0},placeholder:"请输入机制备注",clearable:""},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(C,{label:"备注",prop:"remark"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{modelValue:w.form.remark,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.form.remark=e}),modelModifiers:{trim:!0},rows:3,type:"textarea",placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(C,{label:""},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{onClick:t[5]||(t[5]=function(e){return w.dialogVisible=!1})},{default:Object(a["withCtx"])((function(){return[p]})),_:1}),Object(a["createVNode"])(v,{type:"primary","native-type":"submit",loading:w.addLoading},{default:Object(a["withCtx"])((function(){return[g]})),_:1},8,["loading"])]})),_:1})]})),_:1},8,["model","rules","onSubmit"])]})),_:1},8,["modelValue","onClosed"])])}n("d3b7"),n("00b4"),n("2ca0");var V=n("365c"),v={name:"Safe",data:function(){return{tableData:[],domain:"https://www.avestorage.cloud/",form:{token:"",mechanism_intro:"",chain:"bsc",remark:"yep"},rules:{token:[{required:!0,message:"必填项",trigger:"blur"}],chain:[{required:!0,message:"必填项",trigger:"blur"}]},isSearch:!1,addLoading:!1,chainList:[],showChain:!1,dataLoading:!1,dialogVisible:!1,searchObj:{id:""}}},mounted:function(){this.getSafeList(),this.getChainList()},methods:{search:function(e){var t=this;this.Timer&&clearTimeout(this.Timer),this.Timer=setTimeout((function(){t.tableData=[],t.isSearch=!0,e?t.getSafeList(t.searchObj.id):t.getSafeList()}),1e3)},getSafeList:function(e){var t=this;this.dataLoading=!0,Object(V["qc"])({token_id:e}).then((function(e){console.log("-----tableData---------",e),t.tableData=e})).catch((function(){t.tableData=[]})).finally((function(){t.dataLoading=!1}))},addSafe:function(){var e=this;""!==this.form.token&&/^0x[0-9a-zA-Z]{40}$/.test(this.form.token)?(this.addLoading=!0,Object(V["A"])(this.form).then((function(t){e.$message.success("添加成功"),e.dialogVisible=!1,e.getSafeList()})).catch((function(t){console.log(t),e.$message.error("添加失败")})).finally((function(){e.addLoading=!1}))):this.$message.error("请输入合法地址")},getChainList:function(){var e=this;Object(V["Eb"])().then((function(t){e.chainList=t||[]})).catch((function(){e.chainList=[]})).finally((function(){}))},selectChain:function(e){this.showChain=!1,this.form.chain=e.net_name},handelAdd:function(){this.dialogVisible=!0},handelClose:function(){this.dialogVisible=!1},fixUrl:function(e){return e?e.startsWith("https://")?e:"https://www.logofacade.com/"+e:""}}},x=(n("35a7"),n("6b0d")),C=n.n(x);const N=C()(v,[["render",w],["__scopeId","data-v-2f5ed0d0"]]);t["default"]=N},"841c":function(e,t,n){"use strict";var a=n("c65b"),o=n("d784"),c=n("825a"),r=n("1d80"),i=n("129f"),l=n("577e"),d=n("dc4a"),u=n("14c3");o("search",(function(e,t,n){return[function(t){var n=r(this),o=void 0==t?void 0:d(t,e);return o?a(o,t,n):new RegExp(t)[e](l(n))},function(e){var a=c(this),o=l(e),r=n(t,a,o);if(r.done)return r.value;var d=a.lastIndex;i(d,0)||(a.lastIndex=0);var s=u(a,o);return i(a.lastIndex,d)||(a.lastIndex=d),null===s?-1:s.index}]}))},9166:function(e,t,n){}}]);